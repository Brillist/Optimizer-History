#include "libcse.h"
#include "ResourceGroup.h"

////////////////////////////////////////////////////////////////////////////////////////////////////

UTL_NS_USE;
LUT_NS_USE;

////////////////////////////////////////////////////////////////////////////////////////////////////

UTL_CLASS_IMPL(cse::ResourceGroup, utl::Object);

////////////////////////////////////////////////////////////////////////////////////////////////////

CSE_NS_BEGIN;

////////////////////////////////////////////////////////////////////////////////////////////////////

void
ResourceGroup::copy(const Object& rhs)
{
    ASSERTD(rhs.isA(ResourceGroup));
    const ResourceGroup& rg = (const ResourceGroup&)rhs;
    _id = rg._id;
    _name = rg._name;
    _resIds = rg._resIds;
}

////////////////////////////////////////////////////////////////////////////////////////////////////

void
ResourceGroup::serialize(Stream& stream, uint_t io, uint_t)
{
    utl::serialize(_id, stream, io);
    lut::serialize(_name, stream, io);
    if (io == io_rd)
        _resIds.clear();
    lut::serialize<uint_t>(_resIds, stream, io);
}

////////////////////////////////////////////////////////////////////////////////////////////////////

String
ResourceGroup::toString() const
{
    std::ostringstream ss;
    ss << "(id: " << _id << "),(name: " << _name << ")";
    return String(ss.str().c_str());
}

////////////////////////////////////////////////////////////////////////////////////////////////////

void
ResourceGroup::init()
{
    _id = uint_t_max;
}

////////////////////////////////////////////////////////////////////////////////////////////////////

CSE_NS_END;
