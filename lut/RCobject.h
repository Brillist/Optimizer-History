#ifndef LUT_RCOBJECT_H
#define LUT_RCOBJECT_H

//////////////////////////////////////////////////////////////////////////////

LUT_NS_BEGIN;

//////////////////////////////////////////////////////////////////////////////

/**
   Reference-counted class (abstract).
   \author Adam McKee
*/

//////////////////////////////////////////////////////////////////////////////

class RCobject : public utl::Object
{
    UTL_CLASS_DECL_ABC(RCobject);
public:
    void addRef() const
    { ++_refCount; }

    void removeRef() const
    { if ((--_refCount) == 0) delete this; }
private:
    void init()
    { _refCount = 0; }

    void deInit() {}
private:
    mutable utl::uint_t _refCount;
};

//////////////////////////////////////////////////////////////////////////////

LUT_NS_END;

//////////////////////////////////////////////////////////////////////////////

#endif
