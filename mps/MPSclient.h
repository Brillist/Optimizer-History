#ifndef MPS_MPSCLIENT_H
#define MPS_MPSCLIENT_H

/////////////////////////////////////////////////////////////////////////////////////////////////////

#include <mrp/MRPclient.h>
#include <mps/MPSrun.h>

/////////////////////////////////////////////////////////////////////////////////////////////////////

MPS_NS_BEGIN;

/////////////////////////////////////////////////////////////////////////////////////////////////////

class MPSserver;

/////////////////////////////////////////////////////////////////////////////////////////////////////

class MPSclient : public mrp::MRPclient
{
    UTL_CLASS_DECL(MPSclient, mrp::MRPclient);

public:
    MPSclient(MPSserver* server,
              utl::FDstream* socket,
              const utl::InetHostAddress& addr,
              bool recording = false);

    MPSrun*
    mpsRun()
    {
        return _mpsRun;
    }

private:
    void init();

    void deInit();

private:
    MPSrun* _mpsRun;
};

/////////////////////////////////////////////////////////////////////////////////////////////////////

MPS_NS_END;

/////////////////////////////////////////////////////////////////////////////////////////////////////

#endif
